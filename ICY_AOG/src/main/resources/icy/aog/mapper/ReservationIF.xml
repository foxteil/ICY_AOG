<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 <mapper namespace="icy.aog.mapper.ReservationIF">
 <select id = "getSearchInfo" resultType="icy.aog.beans.ReservationBean">
  <![CDATA[
	SELECT  HP.HP_NAME AS HPNAME,
        PA.PA_NAME AS PANAME
	FROM DRS INNER JOIN HP ON DRS.DRS_DRHPCODE = HP.HP_CODE
    INNER JOIN DR ON DRS.DRS_DRCODE = DR.DR_CODE
    INNER JOIN PA ON DRS.DRS_DRPACODE = PA.PA_CODE
    WHERE HP.HP_ADDR=#{Addr} AND PA.PA_CODE=#{paCode}
      ]]>
 </select>
 
<insert id="insReserve">
INSERT INTO RE(RE_STFCODE, RE_STCODE, RE_FAJUMIN,RE_FAMMID, RE_DRSDATE,RE_DRSTMCODE,RE_DRSDRCODE, RE_DRSPACODE, RE_DRSHPCODE,RE_CODE)
    VALUES (#{stfCode},#{stateCode},#{mJumin},#{Id},#{drsDate},#{tmCode},#{drCode},#{paCode},#{hpCode},#{resCode})
</insert>

<select id = "selhpInfo" resultType= "icy.aog.beans.ReservationBean" >
 SELECT * FROM HP WHERE HP_CODE=#{hpCode}
</select>

<select id = "lsearchInfo" resultType="icy.aog.beans.ReservationBean">
	
		SELECT HL_HPADDR FROM HL WHERE HL_HPADDR LIKE #{local}
		
	</select>
	
 </mapper>
 
 